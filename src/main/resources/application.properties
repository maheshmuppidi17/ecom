# Application
spring.application.name=ecomwithmongo
server.port=8090

# Feign timeouts
spring.cloud.openfeign.client.config.default.connect-timeout=5000
spring.cloud.openfeign.client.config.default.read-timeout=5000

# Optional fallback direct URL
banking.service.url=http://localhost:9090/api/bank

# MongoDB Configuration (REMOVE MySQL config since you're using MongoDB)
spring.data.mongodb.uri=mongodb://localhost:27017/ecomdb
spring.data.mongodb.database=ecomdb

# MongoDB connection settings
spring.data.mongodb.auto-index-creation=true
spring.data.mongodb.client.min-connection-per-host=0
spring.data.mongodb.client.max-connection-per-host=10
spring.data.mongodb.client.max-wait-time=30000
spring.data.mongodb.client.connection-timeout=5000
spring.data.mongodb.client.socket-timeout=30000

# Show MongoDB queries in logs
logging.level.org.springframework.data.mongodb.core=DEBUG

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092

# Kafka Producer Configuration
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.properties.spring.json.add.type.headers=false

# Kafka Consumer Configuration (if needed for any responses)
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
spring.kafka.consumer.properties.spring.json.use.type.headers=false
spring.kafka.consumer.group-id=ecom-group
spring.kafka.consumer.auto-offset-reset=earliest

# Eureka Discovery
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true

# Jackson configuration
spring.jackson.date-format=com.fasterxml.jackson.databind.util.StdDateFormat
spring.jackson.time-zone=Asia/Kolkata
spring.jackson.serialization.write-dates-as-timestamps=false

# Logging for debugging
logging.level.org.springframework.kafka=DEBUG
logging.level.com.example.ecom=DEBUG